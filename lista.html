<html>
<head>
    <title>Compra Digital - Faça sua lista de compras e economize!</title>
    <meta charset="utf-8" />
    <link href="css/estilo.css" rel="stylesheet" />
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <script type="text/javascript" src="js/main.js"></script> 
</head>
<body>


    <div class="page-inicial">
        <div class="topo listas-topo">
            <h4 class="titulo-topo" id="tituloLista">
                <img src="img/back.png" onclick="parent.location = 'listas.html'" width="30" class="btn-back" />
                
            </h4>
        </div>

        <!--<h3 class="titulo-conteudo">Início</h3>-->
        <!--<div class="logo">
            <img src="img/logo.png" width="70" />
        </div>-->

        <div class="geral">
		<div class="conteudo" id="conteudo">
		</div>
		
            <div class="btn-add">
                <a href="#"  onclick="abrirModalCheckin('lista')">
                    <img src="img/check.png" class="btn-add-img" width="30" />
                </a>
                <a href="#" data-toggle="modal" data-target="#adicionarProduto">
                    <img src="img/add.png" class="btn-add-img" width="30" />
                </a>
				<a href="#" data-toggle="modal" data-target="#buscarOfertas" onclick="retornarEstabelecimentosMaisBaratos()">
                    <img src="img/shop.png" class="btn-add-img" width="30" />
                </a>
			</div>
        </div>	
    </div>
	
	
	<!---- MODAIS ---->
	
	<!-- Buscar ofertas -->
    <div class="modal fade add-produto-checkin" id="buscarOfertas" tabindex="-1" role="dialog" aria-labelledby="checkin" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel"><img src="img/add.png" width="20" /> Estabelecimentos </h4>
                </div>
                <div class="modal-body">
                   <div id="referenciaEstab"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
                </div>
            </div>
        </div>
    </div>
	
	 <!-- quantidade -->
    <div class="modal fade add-produto-checkin" id="quantidade" tabindex="-1" role="dialog" aria-labelledby="checkin" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel"><img src="img/add.png" width="20" /> Escolha a quantidade </h4>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="input-group">
                            <span class="input-group-addon" id="basic-addon1"><img src="img/search.png" width="20" /></span>
                            <input type="text" class="form-control" id="quantidadeDeProdutosParaAdicionarNaLista" placeholder="Quantidade" aria-describedby="basic-addon1">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
                    <button type="button" onclick="adicionarProdutoNaLista('lista')" data-dismiss="modal" class="btn btn-primary">Adicionar Produto na lista</button>
                </div>
            </div>
        </div>
    </div>
	
	
	 <!-- Pesquisar produto -->
    <div class="modal fade add-produto-checkin" id="adicionarProduto" tabindex="-1" role="dialog" aria-labelledby="checkin" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel"><img src="img/add.png" width="20" /> Pesquisar produto </h4>
                </div>
                <div class="modal-body">
                    <p>Pesquisar produto para adicionar a lista</p>
                    <form>
                        <div class="input-group">
                            <span class="input-group-addon" id="basic-addon1"><img src="img/search.png" width="20" /></span>
                            <input type="text" class="form-control" id="nome_produto" placeholder="Ex: Feijão" aria-describedby="basic-addon1" onkeyup="autoCompleteLista('lista')">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
                    <button type="button" onclick="procurarProduto()" data-dismiss="modal" class="btn btn-primary">Pesquisar produto</button>
                </div>
            </div>
        </div>
    </div>
	
	<!-- Produtos encontrados -->
    <div class="modal fade add-produto-checkin" id="produtosEncontrados" tabindex="-1" role="dialog" aria-labelledby="checkin" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel"><img src="img/add.png" width="20" /> Produtos encontrados </h4>
                </div>
                <div class="modal-body">
                    <p>Todos os produtos encontrados </p>
                   <div id="referencia"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Checkin -->
    <div class="modal fade add-produto-checkin" id="myModalCheckin" tabindex="-1" role="dialog" aria-labelledby="checkin" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel"><img src="img/check.png" width="20" /> Iniciar checkin </h4>
                </div>
                <div class="modal-body">
                    <p>O checkin é para iniciar suas compras, escolha qual estabelecimento você vai fazer suas compras.</p>
                    <form>
                        <div class="input-group">
                            <span class="input-group-addon" id="basic-addon1"><img src="img/search.png" width="20" /></span>
                            <input type="text" class="form-control" id="estabCheckin" onkeyup="escolherEstabelecimento()" placeholder="Supermercado - Rua. Exemplo, Cidade/Estado" aria-describedby="basic-addon1">
                        </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
                    <button type="button" onclick="iniciarCheckin('lista')" class="btn btn-primary">Iniciar checkin</button>
                </div>
            </div>
        </div>
    </div>

	<!-- cadastrar produto -->
    <div class="modal fade add-produto-checkin" id="cadastrarProduto" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title" id="myModalLabel">Adicionar produto à lista</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal" role="form">
                        <div class="form-group" style="margin-bottom: 0px;">
                            <label for="inputEmail3" class="col-sm-2 control-label">Código de barras:</label>
                            <div class="col-sm-10">
                                <input class="form-control" type="text" placeholder="Código de barras" id="cod_barra" name="cod_barra" value='' readonly />
                                <p style="margin: 0px; padding: 0px;"><a href="#" id="scan" onclick="scanCode();"><img src="img/codigo_barras.png" width="30px" style="float: right; position: relative;bottom: 70px;"></a></p>
                            </div>
                        </div>
                        <!-- <div class="form-group" style="margin-bottom: 20px;">
                            <label for="inputPassword3"  class="col-sm-2 control-label">Formato:</label>
                            <div class="col-sm-10">
                                <input class="form-control" type="text" placeholder="Formato" id="formato" name="formato" value='' readonly>
                            </div>
                        </div>
                        -->
                        <div class="form-group">
                            <label for="nomeDoProduto" class="col-sm-2 control-label">Nome do produto:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" placeholder="Nome do produto" id="nomeProduto" name="nomeDoProduto" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="marcaDoProduto" class="col-sm-2 control-label">Marca do produto:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" placeholder="Marca do produto" id="marcaDoProduto" name="marcaDoProduto" onkeyup="autoCompleteMarca('cadastrar')"/>
                            </div>
                        </div>

                        <div class="form-group" style="margin-bottom: 20px;">
                            <label for="inputPassword3" class="col-sm-2 control-label">Embalagem produto:</label>
                            <div class="col-sm-10">
                                <select name="embalagemCadastrar" class="form-control">
                                    <option value="0">Todas</option>
                                    <option value="1">Outra</option>
                                    <option value="2">Unidade</option>
                                    <option value="7">Barra</option>
                                    <option value="4">Caixa</option>
                                    <option value="5">Garrafa</option>
                                    <option value="6">Lata</option>
                                    <option value="3">Pacote</option>
                                    <option value="8">Peso</option>
                                </select>
                            </div>
                        </div>
						
						<div class="form-group" style="margin-bottom: 20px;">
                            <label for="inputPassword3" class="col-sm-2 control-label">Unidade produto:</label>
                            <div class="col-sm-10">
                                <select name="unidadeDoProduto" class="form-control">
                                    <option value="1">Unidade</option>
                                    <option value="2">KG</option>
                                    <option value="7">Gramas</option>
                                    <option value="4">Litro</option>
                                    <option value="5">ML</option>
                                </select>
                            </div>
                        </div>
						
                        <div class="form-group">
                            <label for="quantidadeDoProduto" class="col-sm-2 control-label">Quantidade:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" placeholder="1" id="quantidadeDoProduto" name="quantidadeDoProduto" />
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
                    <button type="button" class="btn btn-primary" onclick="criarProduto('lista');">Cadastrar produto</button>
                </div>
            </div>
        </div>
    </div>  
	
	<!-- Editar produto -->
    <div class="modal fade add-produto-checkin" id="editarProduto" tabindex="-3" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title" id="myModalLabel">Editar Produto</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal" role="form">
                        <div class="form-group" style="margin-bottom: 0px;">
                            <label for="inputEmail3" class="col-sm-2 control-label">Código de barras:</label>
                            <div class="col-sm-10">
                                <input class="form-control" type="text" placeholder="Código de barras" id="cod_barraEditado" name="cod_barra" value='' readonly />
                                <p style="margin: 0px; padding: 0px;"><a href="#" id="scan" onclick="scanCode();"><img src="img/codigo_barras.png" width="30px" style="float: right; position: relative;bottom: 70px;"></a></p>
                            </div>
                        </div>
                        <!-- <div class="form-group" style="margin-bottom: 20px;">
                            <label for="inputPassword3"  class="col-sm-2 control-label">Formato:</label>
                            <div class="col-sm-10">
                                <input class="form-control" type="text" placeholder="Formato" id="formato" name="formato" value='' readonly>
                            </div>
                        </div>
                        -->
                        <div class="form-group">
                            <label for="nomeDoProduto" class="col-sm-2 control-label">Nome do produto:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" placeholder="Nome do produto" id="nomeDoProdutoEditado" name="nomeDoProduto" onkeyup="autoComplete('1')" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="marcaDoProduto" class="col-sm-2 control-label">Marca do produto:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" placeholder="Marca do produto" id="marcaDoProdutoEditado" name="marcaDoProduto" onkeyup="autoCompleteMarca('editar')" />
                            </div>
                        </div>

                        <div class="form-group" style="margin-bottom: 20px;">
                            <label for="inputPassword3" class="col-sm-2 control-label">Embalagem produto:</label>
                            <div class="col-sm-10">
                                <select name="embalagemDoProdutoEditado" class="form-control">
                                    <option value="0">Todas</option>
                                    <option value="1">Outra</option>
                                    <option value="2">Unidade</option>
                                    <option value="7">Barra</option>
                                    <option value="4">Caixa</option>
                                    <option value="5">Garrafa</option>
                                    <option value="6">Lata</option>
                                    <option value="3">Pacote</option>
                                    <option value="8">Peso</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group" style="margin-bottom: 20px;">
                            <label for="inputPassword3" class="col-sm-2 control-label">Unidade produto:</label>
                            <div class="col-sm-10">
                                <select name="unidadeDoProduto" class="form-control">
                                    <option value="1">Unidade</option>
                                    <option value="2">KG</option>
                                    <option value="7">Gramas</option>
                                    <option value="4">Litro</option>
                                    <option value="5">ML</option>
                                </select>
                            </div>
                        </div>
						
                        <div class="form-group">
                            <label for="quantidadeDoProduto" class="col-sm-2 control-label">Quantidade:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" placeholder="1" id="quantidadeDoProdutoEditado" name="quantidadeDoProduto" />
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
                    <button type="button" class="btn btn-primary" onclick="editarProduto();">Editar produto</button>
                </div>
            </div>
        </div>
	</div>	
    <script type="text/javascript" src="barcodescanner.js"></script>
    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript" src="WS/listaWS.js"></script>
    <script type="text/javascript" src="WS/produtoWS.js"></script>
    <script type="text/javascript" src="WS/checkInWS.js"></script>
	<!-- auto complete -->
	<script src="js/jquery-1.9.1.js"></script> 
	<script src="js/jquery-ui-1.10.3.js"></script>
	<link rel="stylesheet" href="css/jquery-ui.css" />  
	<script type="text/javascript">
	window.onload = function(){
		retornarNomeLista();
		retornarProdutosDaListas();
	}
	</script> 
    <script src="js/bootstrap.min.js"></script>
    <script type="text/javascript">
        app.initialize();
    </script>
</body>
</html>